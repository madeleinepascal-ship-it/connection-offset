<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Connection Offset Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #000000;
            color: #ffffff;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #999999;
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: #ffffff;
        }

        header {
            margin-bottom: 40px;
        }

        h1 {
            font-size: 48px;
            font-weight: 600;
            margin-bottom: 16px;
            line-height: 1.2;
            color: #ffffff;
        }

        .subtitle {
            color: #999999;
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .balance-display {
            background: transparent;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 32px;
            box-shadow: none;
            border: none;
        }

        .balance-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .balance-row:last-child {
            margin-bottom: 0;
            padding-top: 24px;
            border-top: 2px solid #f0f0f0;
        }

        .balance-label {
            font-size: 14px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        .balance-value {
            font-size: 32px;
            font-weight: 600;
        }

        .debt {
            color: #e74c3c;
        }

        .offset {
            color: #27ae60;
        }

        .net-balance {
            color: #666;
        }

        .net-balance.positive {
            color: #27ae60;
        }

        .net-balance.negative {
            color: #e74c3c;
        }

        .logging-section {
            background: transparent;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 32px;
            box-shadow: none;
            border: none;
        }

        h2 {
            font-size: 20px;
            margin-bottom: 20px;
            font-weight: 600;
            color: #ffffff;
        }

        .log-form {
            display: grid;
            gap: 16px;
            margin-bottom: 24px;
        }

        label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 6px;
            color: #cccccc;
        }

        select, input {
            width: 100%;
            padding: 12px;
            border: 1px solid #333333;
            border-radius: 8px;
            font-size: 15px;
            background: #1a1a1a;
            color: #ffffff;
            transition: border-color 0.2s;
        }

        select:focus, input:focus {
            outline: none;
            border-color: #ffffff;
        }

        .time-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        button {
            background: #ffffff;
            color: #000000;
            border: none;
            padding: 14px 24px;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
        }

        button:hover {
            background: #e0e0e0;
        }

        button:active {
            transform: scale(0.98);
        }

        .activity-log {
            margin-top: 32px;
        }

        .log-entry {
            background: transparent;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: none;
        }

        .log-entry-info {
            flex: 1;
        }

        .log-entry-name {
            font-weight: 500;
            margin-bottom: 4px;
            color: #ffffff;
        }

        .log-entry-details {
            font-size: 13px;
            color: #999999;
        }

        .log-entry-duration {
            font-size: 18px;
            font-weight: 600;
            margin-right: 12px;
        }

        .delete-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .delete-btn:hover {
            background: #c0392b;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #666666;
        }

        .type-toggle {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .type-btn {
            flex: 1;
            padding: 12px;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            color: #999999;
        }

        .type-btn.active {
            background: transparent;
            border: none;
            color: #ffffff;
        }

        .visual-bar {
            height: 8px;
            background: transparent;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 8px;
            position: relative;
        }

        .visual-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #e74c3c 0%, #27ae60 100%);
            transition: width 0.3s;
        }

        .recommendations-section {
            background: transparent;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 32px;
            box-shadow: none;
            border: none;
        }

        .recommendation-card {
            background: transparent;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 16px;
            border: none;
        }

        .recommendation-card:last-child {
            margin-bottom: 0;
        }

        .recommendation-category {
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #e74c3c;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .recommendation-text {
            font-size: 15px;
            line-height: 1.6;
            margin-bottom: 12px;
            color: #cccccc;
        }

        .recommendation-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .suggestion-tag {
            background: transparent;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 13px;
            color: #cccccc;
            border: none;
        }

        .debt-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .breakdown-card {
            background: transparent;
            padding: 16px;
            border-radius: 8px;
            border: none;
        }

        .breakdown-label {
            font-size: 12px;
            color: #999999;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }

        .breakdown-value {
            font-size: 24px;
            font-weight: 600;
            color: #e74c3c;
        }

        .breakdown-percentage {
            font-size: 13px;
            color: #666666;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="home.html" class="back-link">← Back to Home</a>

        <header>
            <h1>CONNECTION OFFSET CALCULATOR</h1>
            <p class="subtitle">Sure, you spend a lot of time 'connecting'. But maybe it's time to offset that with real connection. Think of this as almost like a carbon footprint - but for connection. It's simple - track time spent connecting to apps and AI and other social stuffs, and calculate your real-life offset in real-time.</p>
        </header>

        <div class="balance-display">
            <div class="balance-row">
                <span class="balance-label">Time spent 'connected'</span>
                <span class="balance-value debt" id="totalDebt">0h 0m</span>
            </div>
            <div class="balance-row">
                <span class="balance-label">Connection Offset</span>
                <span class="balance-value offset" id="totalOffset">0h 0m</span>
            </div>
            <div class="balance-row">
                <span class="balance-label">Net Balance</span>
                <span class="balance-value net-balance" id="netBalance">0h 0m</span>
            </div>
            <div class="visual-bar">
                <div class="visual-bar-fill" id="balanceBar" style="width: 50%"></div>
            </div>
        </div>

        <div class="recommendations-section" id="recommendationsSection" style="display: none;">
            <h2>Your Personalized Offset Recommendations</h2>
            <div id="debtBreakdown"></div>
            <div id="recommendations"></div>
        </div>

        <div class="logging-section">
            <h2>Connecting time spent</h2>

            <form class="log-form" onsubmit="logDebtActivity(event)">
                <div>
                    <label for="debtActivity">Activity</label>
                    <select id="debtActivity" required>
                        <optgroup label="Social Media">
                            <option value="Instagram">Instagram</option>
                            <option value="TikTok">TikTok</option>
                            <option value="Facebook">Facebook</option>
                            <option value="Twitter/X">Twitter/X</option>
                            <option value="LinkedIn">LinkedIn</option>
                            <option value="Reddit">Reddit</option>
                        </optgroup>
                        <optgroup label="AI Platforms">
                            <option value="ChatGPT">ChatGPT</option>
                            <option value="Claude">Claude</option>
                            <option value="Character.ai">Character.ai</option>
                            <option value="Other AI">Other AI Tool</option>
                        </optgroup>
                        <optgroup label="Communication">
                            <option value="Slack">Slack</option>
                            <option value="Email">Email</option>
                            <option value="Teams">Microsoft Teams</option>
                            <option value="Discord">Discord</option>
                        </optgroup>
                        <optgroup label="Content/Entertainment">
                            <option value="YouTube">YouTube</option>
                            <option value="Netflix/Streaming">Netflix/Streaming</option>
                            <option value="Podcasts">Podcasts</option>
                            <option value="Twitch">Twitch</option>
                        </optgroup>
                    </select>
                </div>

                <div class="time-inputs">
                    <div>
                        <label for="debtHours">Hours</label>
                        <input type="number" id="debtHours" min="0" max="24" value="0" required>
                    </div>
                    <div>
                        <label for="debtMinutes">Minutes</label>
                        <input type="number" id="debtMinutes" min="0" max="59" value="0" required>
                    </div>
                </div>

                <button type="submit">Log Connecting Time</button>
            </form>
        </div>

        <div class="logging-section">
            <h2>Connection Offset</h2>

            <form class="log-form" onsubmit="logOffsetActivity(event)">
                <div>
                    <label for="offsetActivity">Activity</label>
                    <select id="offsetActivity" required>
                        <optgroup label="In-Person Connection">
                            <option value="Face-to-face hangout">Face-to-face hangout</option>
                            <option value="Meal with others">Meal with others</option>
                            <option value="Phone/video call">Phone/video call (two-way)</option>
                            <option value="Community event">Community event</option>
                            <option value="Class/workshop">Class/workshop</option>
                        </optgroup>
                        <optgroup label="Third Spaces">
                            <option value="Café/coffee shop">Café/coffee shop</option>
                            <option value="Library">Library</option>
                            <option value="Park">Park</option>
                            <option value="Gym/fitness">Gym/fitness class</option>
                            <option value="Co-working space">Co-working space</option>
                        </optgroup>
                        <optgroup label="Gatherings">
                            <option value="Party/social event">Party/social event</option>
                            <option value="Religious service">Religious service</option>
                            <option value="Volunteer work">Volunteer work</option>
                            <option value="Sports/recreation">Sports/recreation with others</option>
                            <option value="Creative activity">Creative activity with others</option>
                        </optgroup>
                    </select>
                </div>

                <div class="time-inputs">
                    <div>
                        <label for="offsetHours">Hours</label>
                        <input type="number" id="offsetHours" min="0" max="24" value="0" required>
                    </div>
                    <div>
                        <label for="offsetMinutes">Minutes</label>
                        <input type="number" id="offsetMinutes" min="0" max="59" value="0" required>
                    </div>
                </div>

                <button type="submit">Log Connection Offset</button>
            </form>

            <div class="activity-log">
                <h2>This Week's Activities</h2>
                <div id="logList">
                    <div class="empty-state">No activities logged yet. Start tracking your connection patterns.</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let activities = [];

        // Categorize activities into debt types
        const debtCategories = {
            social: ['Instagram', 'TikTok', 'Facebook', 'Twitter/X', 'LinkedIn', 'Reddit'],
            ai: ['ChatGPT', 'Claude', 'Character.ai', 'Other AI'],
            parasocial: ['YouTube', 'Netflix/Streaming', 'Podcasts', 'Twitch'],
            async: ['Slack', 'Email', 'Teams', 'Discord']
        };

        // Recommendation mappings
        const recommendations = {
            social: {
                label: 'Social Media Debt',
                description: 'Your social is turning a littttle anti-social. Focus that offset on reciprocal, two-way social interaction.',
                suggestions: [
                    'Host or attend a dinner with friends',
                    'Try a phone call (yes these still exist)',
                    'Meet someone for coffee',
                    'Join a group hangout',
                    'Attend a party or social gathering'
                ]
            },
            ai: {
                label: 'AI Conversation Debt',
                description: 'You\'ve been learning from AI. That\'s great. But maybe try absorbing culture and learning with actual humans present.',
                suggestions: [
                    'Attend a workshop or class',
                    'Visit a museum or gallery',
                    'Join a book club',
                    'Go to a lecture or talk',
                    'Participate in a skill-sharing meetup',
                    'Take an in-person course'
                ]
            },
            parasocial: {
                label: 'Parasocial Content Debt',
                description: 'You\'re scrolling your soul away. Get back into spaces where it\'s not just looking at other people\'s lives, you\'re looking at each other.',
                suggestions: [
                    'Attend a community event',
                    'Join an open mic or speaking event',
                    'Participate in a town hall',
                    'Go to a group fitness class',
                    'Join a meetup group',
                    'Volunteer in your community'
                ]
            },
            async: {
                label: 'Async Communication Debt',
                description: 'Too much slack. Meet up in person for a change.',
                suggestions: [
                    'Work in a co-working space',
                    'Have an in-person meeting',
                    'Collaborate synchronously with others',
                    'Spend time in shared physical space',
                    'Join a working session at a café or library'
                ]
            }
        };

        // Load saved data
        if (localStorage.getItem('connectionActivities')) {
            activities = JSON.parse(localStorage.getItem('connectionActivities'));
            updateDisplay();
        }

        function getCategoryForActivity(activityName) {
            for (const [category, activities] of Object.entries(debtCategories)) {
                if (activities.includes(activityName)) {
                    return category;
                }
            }
            return null;
        }

        function generateRecommendations() {
            const debtActivities = activities.filter(a => a.type === 'debt');

            if (debtActivities.length === 0) {
                document.getElementById('recommendationsSection').style.display = 'none';
                return;
            }

            // Calculate minutes per category
            const categoryMinutes = {
                social: 0,
                ai: 0,
                parasocial: 0,
                async: 0
            };

            debtActivities.forEach(activity => {
                const category = getCategoryForActivity(activity.name);
                if (category) {
                    categoryMinutes[category] += activity.minutes;
                }
            });

            const totalDebtMinutes = Object.values(categoryMinutes).reduce((sum, m) => sum + m, 0);

            if (totalDebtMinutes === 0) {
                document.getElementById('recommendationsSection').style.display = 'none';
                return;
            }

            // Show breakdown
            let breakdownHTML = '<div class="debt-breakdown">';
            for (const [category, minutes] of Object.entries(categoryMinutes)) {
                if (minutes > 0) {
                    const percentage = ((minutes / totalDebtMinutes) * 100).toFixed(0);
                    breakdownHTML += `
                        <div class="breakdown-card">
                            <div class="breakdown-label">${recommendations[category].label}</div>
                            <div class="breakdown-value">${formatTime(minutes)}</div>
                            <div class="breakdown-percentage">${percentage}% of total debt</div>
                        </div>
                    `;
                }
            }
            breakdownHTML += '</div>';
            document.getElementById('debtBreakdown').innerHTML = breakdownHTML;

            // Generate recommendations based on top categories
            const sortedCategories = Object.entries(categoryMinutes)
                .filter(([_, minutes]) => minutes > 0)
                .sort(([_, a], [__, b]) => b - a);

            let recsHTML = '';
            sortedCategories.forEach(([category, minutes]) => {
                const rec = recommendations[category];
                const suggestedHours = Math.ceil(minutes / 60);

                recsHTML += `
                    <div class="recommendation-card">
                        <div class="recommendation-category">${rec.label}</div>
                        <div class="recommendation-text">
                            ${rec.description}
                        </div>
                        <div class="recommendation-text">
                            <strong>Suggested offset: ${suggestedHours} hour${suggestedHours !== 1 ? 's' : ''}</strong>
                        </div>
                        <div class="recommendation-suggestions">
                            ${rec.suggestions.map(s => `<span class="suggestion-tag">${s}</span>`).join('')}
                        </div>
                    </div>
                `;
            });

            document.getElementById('recommendations').innerHTML = recsHTML;
            document.getElementById('recommendationsSection').style.display = 'block';
        }

        function logDebtActivity(event) {
            event.preventDefault();

            const activity = document.getElementById('debtActivity').value;
            const hours = parseInt(document.getElementById('debtHours').value);
            const minutes = parseInt(document.getElementById('debtMinutes').value);

            if (hours === 0 && minutes === 0) {
                alert('Please enter a duration greater than 0');
                return;
            }

            const totalMinutes = (hours * 60) + minutes;

            activities.push({
                id: Date.now(),
                name: activity,
                type: 'debt',
                minutes: totalMinutes,
                timestamp: new Date().toISOString()
            });

            saveData();
            updateDisplay();

            // Reset form
            document.getElementById('debtHours').value = 0;
            document.getElementById('debtMinutes').value = 0;
        }

        function logOffsetActivity(event) {
            event.preventDefault();

            const activity = document.getElementById('offsetActivity').value;
            const hours = parseInt(document.getElementById('offsetHours').value);
            const minutes = parseInt(document.getElementById('offsetMinutes').value);

            if (hours === 0 && minutes === 0) {
                alert('Please enter a duration greater than 0');
                return;
            }

            const totalMinutes = (hours * 60) + minutes;

            activities.push({
                id: Date.now(),
                name: activity,
                type: 'offset',
                minutes: totalMinutes,
                timestamp: new Date().toISOString()
            });

            saveData();
            updateDisplay();

            // Reset form
            document.getElementById('offsetHours').value = 0;
            document.getElementById('offsetMinutes').value = 0;
        }

        function deleteActivity(id) {
            activities = activities.filter(a => a.id !== id);
            saveData();
            updateDisplay();
        }

        function saveData() {
            localStorage.setItem('connectionActivities', JSON.stringify(activities));
        }

        function formatTime(minutes) {
            const h = Math.floor(minutes / 60);
            const m = minutes % 60;
            return `${h}h ${m}m`;
        }

        function updateDisplay() {
            const debtMinutes = activities
                .filter(a => a.type === 'debt')
                .reduce((sum, a) => sum + a.minutes, 0);

            const offsetMinutes = activities
                .filter(a => a.type === 'offset')
                .reduce((sum, a) => sum + a.minutes, 0);

            const netMinutes = offsetMinutes - debtMinutes;

            document.getElementById('totalDebt').textContent = formatTime(debtMinutes);
            document.getElementById('totalOffset').textContent = formatTime(offsetMinutes);

            const netBalance = document.getElementById('netBalance');
            netBalance.textContent = formatTime(Math.abs(netMinutes));
            netBalance.classList.remove('positive', 'negative');

            if (netMinutes > 0) {
                netBalance.classList.add('positive');
                netBalance.textContent = '+' + netBalance.textContent;
            } else if (netMinutes < 0) {
                netBalance.classList.add('negative');
                netBalance.textContent = '-' + netBalance.textContent;
            }

            // Update visual bar
            const total = debtMinutes + offsetMinutes;
            const percentage = total === 0 ? 50 : (offsetMinutes / total) * 100;
            document.getElementById('balanceBar').style.width = percentage + '%';

            // Generate recommendations
            generateRecommendations();

            // Update log list
            const logList = document.getElementById('logList');
            if (activities.length === 0) {
                logList.innerHTML = '<div class="empty-state">No activities logged yet. Start tracking your connection patterns.</div>';
            } else {
                logList.innerHTML = activities
                    .sort((a, b) => b.timestamp.localeCompare(a.timestamp))
                    .map(activity => `
                        <div class="log-entry">
                            <div class="log-entry-info">
                                <div class="log-entry-name">${activity.name}</div>
                                <div class="log-entry-details">
                                    ${activity.type === 'debt' ? 'Connecting time spent' : 'Connection Offset'} •
                                    ${new Date(activity.timestamp).toLocaleDateString()} ${new Date(activity.timestamp).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
                                </div>
                            </div>
                            <span class="log-entry-duration ${activity.type}">${formatTime(activity.minutes)}</span>
                            <button class="delete-btn" onclick="deleteActivity(${activity.id})">Delete</button>
                        </div>
                    `).join('');
            }
        }

    </script>
</body>
</html>
